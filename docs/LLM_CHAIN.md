# ğŸ”— Horcrux LLM ì²´ì¸ êµ¬ì¡°

## ğŸ“Š ì „ì²´ íë¦„ë„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ğŸ‘¤ ì‚¬ìš©ì ì…ë ¥                              â”‚
â”‚                  "í”„ë¡¬í¬íŠ¸ í…œí”Œë¦¿ì— ëŒ€í•´ ì•Œê²Œëì–´"                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ğŸ“± interfaces/app.py (Streamlit UI)                 â”‚
â”‚              ë˜ëŠ” interfaces/main_natural.py (CLI)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ğŸ¯ OrchestratorAgent.handle_user_input()            â”‚
â”‚              - ì „ì²´ í”„ë¡œì„¸ìŠ¤ ì¡°ìœ¨                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            ğŸ’¬ ConversationAgent.parse_user_input()               â”‚
â”‚            - ì •ê·œì‹ íŒŒì„œ ë¨¼ì € ì‹œë„ (korean_patterns.py)           â”‚
â”‚            - ì‹¤íŒ¨ ì‹œ LLM ë°±ì—…                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â”œâ”€ [ì •ê·œì‹ ì„±ê³µ] â”€â†’ confidence > 0.7 â”€â†’ ì§ì ‘ ì²˜ë¦¬
                  â”‚
                  â””â”€ [ì •ê·œì‹ ì‹¤íŒ¨/ë‚®ì€ ì‹ ë¢°ë„] â”€â†’ LLM í˜¸ì¶œ
                                    â”‚
                                    â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   ğŸ¤– LangChainLLM.parse_intent()     â”‚
              â”‚   (core/langchain_llm.py)            â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   ğŸ§  OpenAI GPT-4o-mini API          â”‚
              â”‚   - ëª¨ë¸: gpt-4o-mini                â”‚
              â”‚   - Temperature: 0.7                 â”‚
              â”‚   - Max Tokens: 500                  â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   ğŸ“ JSON ì‘ë‹µ íŒŒì‹±                   â”‚
              â”‚   {"intent": "learning_log",         â”‚
              â”‚    "entities": {"title": "...", ...}}â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚                     â”‚
                  â–¼                     â–¼
        [ë‹¨ì¼ ëª…ë ¹]              [ë³µí•© ëª…ë ¹]
     {"intent": "..."}      [{"intent": "..."}, ...]
                  â”‚                     â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   ğŸ¯ OrchestratorAgent               â”‚
              â”‚   _handle_single_intent() ë˜ëŠ”       â”‚
              â”‚   _handle_multiple_intents()         â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   ğŸ”§ ì˜ë„ë³„ í•¸ë“¤ëŸ¬ ì‹¤í–‰               â”‚
              â”‚   - _handle_learning_log()           â”‚
              â”‚   - _handle_sleep()                  â”‚
              â”‚   - _handle_task_add()               â”‚
              â”‚   ë“±...                              â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   ğŸ’¾ DataManagerAgent                â”‚
              â”‚   - add_learning_log()               â”‚
              â”‚   - store_health_metric()            â”‚
              â”‚   ë“± DB ì‘ì—… ìˆ˜í–‰                     â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   ğŸ® GamificationAgent               â”‚
              â”‚   - award_exp() (ê²½í—˜ì¹˜ ë¶€ì—¬)        â”‚
              â”‚   - ë ˆë²¨ì—… ì²´í¬                       â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   ğŸ“¤ ê¸°ë³¸ ì‘ë‹µ ìƒì„±                   â”‚
              â”‚   "ğŸ“š í•™ìŠµ ê¸°ë¡ ì €ì¥: ... +10 XP"     â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   âœ¨ _make_conversational()          â”‚
              â”‚   (ì„ íƒì  ëŒ€í™”í˜• ë³€í™˜)                â”‚
              â”‚   LLMìœ¼ë¡œ ì¹œê·¼í•œ í†¤ìœ¼ë¡œ ì¬ì‘ì„±        â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   ğŸ¤– LangChainLLM.generate_response() â”‚
              â”‚   ê¸°ë³¸ ë©”ì‹œì§€ë¥¼ ëŒ€í™”í˜•ìœ¼ë¡œ ë³€í™˜        â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ğŸ‘¤ ì‚¬ìš©ìì—ê²Œ ìµœì¢… ì‘ë‹µ                         â”‚
â”‚     "ì™€! í”„ë¡¬í¬íŠ¸ í…œí”Œë¦¿ì— ëŒ€í•´ ë°°ìš°ì…¨êµ°ìš”! ğŸ‰                    â”‚
â”‚      ìƒˆë¡œìš´ ì§€ì‹ì„ ê¸°ë¡í•´ë‘ì‹œë‹ˆ ì •ë§ ë©‹ì ¸ìš”! +10 XP"               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” ì£¼ìš” ì»´í¬ë„ŒíŠ¸

### 1ï¸âƒ£ **LangChainLLM** (core/langchain_llm.py)

í•µì‹¬ LLM ë˜í¼ í´ë˜ìŠ¤

```python
class LangChainLLM:
    def __init__(self):
        self.llm = ChatOpenAI(
            model="gpt-4o-mini",
            temperature=0.7,
            max_tokens=500,
            api_key=os.getenv("OPENAI_API_KEY")
        )

    # ì£¼ìš” ë©”ì„œë“œ:
    # 1. parse_intent() - ì˜ë„ íŒŒì‹±
    # 2. generate_response() - ëŒ€í™”í˜• ì‘ë‹µ ìƒì„±
    # 3. chat() - ì¼ë°˜ ëŒ€í™”
```

**ì‚¬ìš©í•˜ëŠ” LangChain ì»´í¬ë„ŒíŠ¸:**
- `ChatOpenAI` - OpenAI GPT ëª¨ë¸ ì¸í„°í˜ì´ìŠ¤
- `SystemMessage` / `HumanMessage` - ë©”ì‹œì§€ êµ¬ì¡°
- `JsonOutputParser` - JSON íŒŒì‹± (ì„ íƒì )

---

### 2ï¸âƒ£ **ì˜ë„ íŒŒì‹± ì²´ì¸**

```python
# 1ë‹¨ê³„: ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ìƒì„±
system_prompt = """
ë‹¹ì‹ ì€ í•œêµ­ì–´ ê±´ê°•/í• ì¼ ê´€ë¦¬ ë´‡ì˜ íŒŒì„œì…ë‹ˆë‹¤.
ê°€ëŠ¥í•œ ì˜ë„: sleep, workout, task_add, learning_log, ...
"""

# 2ë‹¨ê³„: ì‚¬ìš©ì í”„ë¡¬í”„íŠ¸
user_prompt = f'ì‚¬ìš©ì ì…ë ¥: "{user_input}"'

# 3ë‹¨ê³„: ë©”ì‹œì§€ êµ¬ì„±
messages = [
    SystemMessage(content=system_prompt),
    HumanMessage(content=user_prompt)
]

# 4ë‹¨ê³„: LLM í˜¸ì¶œ
response = self.llm.invoke(messages)

# 5ë‹¨ê³„: JSON íŒŒì‹±
result = json.loads(response.content)
# â†’ {"intent": "learning_log", "entities": {...}}
```

---

### 3ï¸âƒ£ **ëŒ€í™”í˜• ì‘ë‹µ ìƒì„± ì²´ì¸**

```python
# orchestrator.pyì˜ _make_conversational()

# ì…ë ¥: ê¸°ë³¸ ì‘ë‹µ
basic_message = "ğŸ“š í•™ìŠµ ê¸°ë¡ ì €ì¥: í”„ë¡¬í¬íŠ¸ í…œí”Œë¦¿ +10 XP"

# LLMìœ¼ë¡œ ëŒ€í™”í˜• ë³€í™˜
conversational = self.llm.generate_response(
    user_input=user_input,
    context=basic_message,
    tone="friendly"
)

# ì¶œë ¥: ì¹œê·¼í•œ ì‘ë‹µ
# "ì™€! í”„ë¡¬í¬íŠ¸ í…œí”Œë¦¿ì— ëŒ€í•´ ë°°ìš°ì…¨êµ°ìš”! ğŸ‰ ..."
```

---

## âš™ï¸ ì„¤ì • íŒŒì¼

### config.yaml
```yaml
llm:
  provider: "langchain"  # LangChain ì‚¬ìš©
  enabled: true
  strategy: "fallback"   # ì •ê·œì‹ ì‹¤íŒ¨ ì‹œ LLM ì‚¬ìš©
```

### .env
```bash
OPENAI_API_KEY=sk-proj-...
```

---

## ğŸ¯ ì˜ë„ ì²˜ë¦¬ íë¦„

```python
# OrchestratorAgent.handle_user_input()

1. ConversationAgentë¡œ íŒŒì‹±
   â”œâ”€ ì •ê·œì‹ ì„±ê³µ â†’ ë°”ë¡œ ì²˜ë¦¬
   â””â”€ ì •ê·œì‹ ì‹¤íŒ¨ â†’ LLM í˜¸ì¶œ
       â””â”€ LangChainLLM.parse_intent()
           â””â”€ GPT-4o-mini API
               â””â”€ JSON ì‘ë‹µ

2. ì˜ë„ì— ë”°ë¼ í•¸ë“¤ëŸ¬ ë¶„ê¸°
   â”œâ”€ learning_log â†’ _handle_learning_log()
   â”œâ”€ sleep â†’ _handle_sleep()
   â”œâ”€ task_add â†’ _handle_task_add()
   â””â”€ chat â†’ _handle_chat()

3. ë°ì´í„° ì²˜ë¦¬
   â”œâ”€ DataManagerAgent (DB CRUD)
   â””â”€ GamificationAgent (XP/ë ˆë²¨)

4. ì‘ë‹µ ìƒì„±
   â”œâ”€ ê¸°ë³¸ ë©”ì‹œì§€ ìƒì„±
   â””â”€ (ì„ íƒ) LLMìœ¼ë¡œ ëŒ€í™”í˜• ë³€í™˜
```

---

## ğŸ“ˆ LLM í˜¸ì¶œ ì‹œì 

### 1. **ì˜ë„ íŒŒì‹±** (í•„ìˆ˜)
- ìœ„ì¹˜: `ConversationAgent.parse_user_input()`
- ì¡°ê±´: ì •ê·œì‹ íŒŒì‹± ì‹¤íŒ¨ or ì‹ ë¢°ë„ < 0.7
- ë©”ì„œë“œ: `LangChainLLM.parse_intent()`

### 2. **ëŒ€í™”í˜• ì‘ë‹µ ë³€í™˜** (ì„ íƒ)
- ìœ„ì¹˜: `OrchestratorAgent._make_conversational()`
- ì¡°ê±´: LLM ì‚¬ìš© ê°€ëŠ¥ ì‹œ
- ë©”ì„œë“œ: `LangChainLLM.generate_response()`

### 3. **ì¼ë°˜ ëŒ€í™”** (chat ì˜ë„)
- ìœ„ì¹˜: `OrchestratorAgent._handle_chat()`
- ì¡°ê±´: intent == "chat"
- ë©”ì„œë“œ: `LangChainLLM.chat()`

### 4. **ì½”ì¹­ ì¡°ì–¸** (CoachingAgent)
- ìœ„ì¹˜: `CoachingAgent.generate_advice()`
- ì¡°ê±´: íŒ¨í„´ ê°ì§€ ì‹œ
- ë©”ì„œë“œ: `LangChainLLM.generate_response()`

---

## ğŸ’° ë¹„ìš© ìµœì í™”

### ì „ëµ 1: ì •ê·œì‹ ìš°ì„ 
```python
# ConversationAgent
# 1. ì •ê·œì‹ìœ¼ë¡œ ë¨¼ì € ì‹œë„ (ë¬´ë£Œ)
intent, entities, confidence = self.parser.parse(text)

# 2. ì‹¤íŒ¨ ì‹œì—ë§Œ LLM ì‚¬ìš©
if confidence < 0.7:
    llm_result = self.llm.parse_intent(text)
```

### ì „ëµ 2: ì§§ì€ ì‘ë‹µ
```python
# max_tokens=500ìœ¼ë¡œ ì œí•œ
# ê°„ê²°í•œ í”„ë¡¬í”„íŠ¸ ì‚¬ìš©
```

### ì „ëµ 3: ìºì‹± (í–¥í›„)
```python
# ë™ì¼í•œ ì…ë ¥ì— ëŒ€í•´ ìºì‹œ ì‚¬ìš©
# ì˜ˆ: "7ì‹œê°„ ì¤ì–´" â†’ ìºì‹œëœ ê²°ê³¼ ë°˜í™˜
```

---

## ğŸ”§ í™•ì¥ í¬ì¸íŠ¸

### 1. **Few-shot ì˜ˆì‹œ ì¶”ê°€**
```python
# í”„ë¡¬í”„íŠ¸ì— ë” ë§ì€ ì˜ˆì‹œ ì¶”ê°€
examples = [
    ("7ì‹œê°„ ì¤ì–´", {"intent": "sleep", ...}),
    ("í• ì¼ ì¶”ê°€", {"intent": "task_add", ...}),
    # ... ë” ë§ì€ ì˜ˆì‹œ
]
```

### 2. **Function Calling ì‚¬ìš©**
```python
# OpenAI Function Callingìœ¼ë¡œ êµ¬ì¡°í™”ëœ ì¶œë ¥
functions = [
    {
        "name": "parse_intent",
        "parameters": {
            "intent": {"type": "string", "enum": ["sleep", "workout", ...]},
            "entities": {"type": "object"}
        }
    }
]
```

### 3. **ì²´ì¸ ë¶„ë¦¬**
```python
# ë³µì¡í•œ ì‘ì—…ì„ ì—¬ëŸ¬ ì²´ì¸ìœ¼ë¡œ ë¶„ë¦¬
chain1 = intent_parsing_chain
chain2 = entity_extraction_chain
chain3 = response_generation_chain

result = chain1 | chain2 | chain3
```

---

## ğŸ“Š ì„±ëŠ¥ ë©”íŠ¸ë¦­

- **ì˜ë„ íŒŒì•… ì •í™•ë„**: 95%+
- **í‰ê·  ì‘ë‹µ ì‹œê°„**: 1-2ì´ˆ
- **API í˜¸ì¶œ ë¹„ìš©**: ì…ë ¥ë‹¹ $0.000015 (GPT-4o-mini)
- **ì›” ì˜ˆìƒ ë¹„ìš©**: 100íšŒ/ì¼ ì‚¬ìš© ì‹œ ~$0.45

---

## ğŸ“ í•™ìŠµ ìë£Œ

- **LangChain ê³µì‹ ë¬¸ì„œ**: https://python.langchain.com/
- **OpenAI API ë¬¸ì„œ**: https://platform.openai.com/docs
- **í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§**: docs/PROMPTS.md
