# Horcrux ğŸ¤–

ê±´ê°•/í• ì¼ ê´€ë¦¬ ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ with ê²Œì„í™” (ë ˆë²¨ì—… ì‹œìŠ¤í…œ)

## í”„ë¡œì íŠ¸ ê°œìš”

ëŒ€í™”í˜• ì…ë ¥ì„ í†µí•´ ê±´ê°• ì§€í‘œì™€ í• ì¼ì„ ì¶”ì í•˜ê³ , ë ˆë²¨ì—… ì‹œìŠ¤í…œìœ¼ë¡œ ë™ê¸°ë¶€ì—¬ë¥¼ ì œê³µí•˜ëŠ” AI ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ

## í˜„ì¬ ìƒíƒœ: ëª¨ë“  Phase ì™„ë£Œ âœ…

### Phase 1: ê¸°ë³¸ ì¸í”„ë¼ âœ…
- âœ… DB êµ¬ì¶• (9ê°œ í…Œì´ë¸”)
- âœ… DataManagerAgent êµ¬í˜„
- âœ… GamificationAgent êµ¬í˜„
- âœ… ê°„ë‹¨í•œ CLI ì¸í„°í˜ì´ìŠ¤

### Phase 2: í•œêµ­ì–´ ìì—°ì–´ ì²˜ë¦¬ âœ…
- âœ… í•œêµ­ì–´ íŒŒì„œ (ë‚ ì§œ, ìˆ˜ëŸ‰, íŒ¨í„´)
- âœ… ConversationAgent (ì˜ë„ íŒŒì•…)
- âœ… CoachingAgent (ì•Œë¦¼ ê·œì¹™)
- âœ… OrchestratorAgent (ì—ì´ì „íŠ¸ ì¡°ìœ¨)
- âœ… ìì—°ì–´ CLI

### Phase 4: ì›¹ UI & ì‹œê°í™” âœ…
- âœ… Streamlit ëŒ€ì‹œë³´ë“œ
- âœ… ì±„íŒ… ì¸í„°í˜ì´ìŠ¤
- âœ… ê±´ê°• ì§€í‘œ ì°¨íŠ¸ (Plotly)
- âœ… ë ˆë²¨/ê²½í—˜ì¹˜ í”„ë¡œê·¸ë ˆìŠ¤ ë°”
- âœ… ì—…ì  ê°¤ëŸ¬ë¦¬ (20ê°œ)
- âœ… ì£¼ê°„ í†µê³„ ë° ë¶„ì„

## ë¹ ë¥¸ ì‹œì‘

### 1. ì„¤ì •

```bash
# í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (.env íŒŒì¼)
cp .env.example .env
# OpenAI API í‚¤ ì…ë ¥ í•„ìš”

# ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™”
python3 core/database.py
```

### 2. ì‹¤í–‰

#### ë°©ë²• 1: í†µí•© ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ (ì¶”ì²œ) ğŸŒŸ

```bash
# ë©”ì¸ ì‹¤í–‰ê¸°
./run.sh

# ë˜ëŠ” ì§ì ‘ ì˜µì…˜ ì§€ì •
./run.sh web    # ì›¹ ëŒ€ì‹œë³´ë“œ
./run.sh chat   # ìì—°ì–´ ëŒ€í™”
./run.sh cli    # ëª…ë ¹ì–´ ëª¨ë“œ
./run.sh test   # í…ŒìŠ¤íŠ¸ ì‹¤í–‰
```

#### ë°©ë²• 2: Python ì§ì ‘ ì‹¤í–‰

```bash
# ë©”ì¸ ë©”ë‰´
python3 horcrux.py

# ì›¹ ëŒ€ì‹œë³´ë“œ
streamlit run interfaces/app.py
```

ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:8501` ì ‘ì†

**ê¸°ëŠ¥:**
- ğŸ’¬ **ì±„íŒ…**: ìì—°ì–´ë¡œ ëŒ€í™”í•˜ë©° ê¸°ë¡
- ğŸ“Š **ëŒ€ì‹œë³´ë“œ**: ì˜¤ëŠ˜ ìš”ì•½, ì£¼ê°„ íŠ¸ë Œë“œ ì°¨íŠ¸
- ğŸ“ˆ **ë¶„ì„**: ì£¼ê°„ í†µê³„, ê²½í—˜ì¹˜ ë‚´ì—­
- ğŸ† **ì—…ì **: ì—…ì  ê°¤ëŸ¬ë¦¬ ë° ì§„í–‰ë„

#### ìì—°ì–´ CLI

```bash
python3 interfaces/main_natural.py
# ë˜ëŠ”
./run.sh chat
```

**ì‚¬ìš© ì˜ˆì‹œ:**
```
ğŸ’¬ > ì–´ì œ 5ì‹œê°„ ì¤ì–´
âœ“ ìˆ˜ë©´ ê¸°ë¡ ì™„ë£Œ: 5.0ì‹œê°„
âš ï¸ ëª©í‘œ(7ì‹œê°„)ë³´ë‹¤ 2.0ì‹œê°„ ë¶€ì¡±í•©ë‹ˆë‹¤. ì¶©ë¶„í•œ ìˆ˜ë©´ì´ ì¤‘ìš”í•´ìš”!

ğŸ’¬ > 30ë¶„ ìš´ë™í–ˆì–´
âœ“ ìš´ë™ ê¸°ë¡ ì™„ë£Œ: 30ë¶„
âœ“ ëª©í‘œ ë‹¬ì„±! 30ë¶„ ìš´ë™ í›Œë¥­í•©ë‹ˆë‹¤!
  +10 XP

ğŸ’¬ > ì¹´ë“œë¹„ ê³„ì‚°í•´ì•¼ í•´
âœ“ í• ì¼ ì¶”ê°€: [1] ì¹´ë“œë¹„ ê³„ì‚°

ğŸ’¬ > í• ì¼ 1 ì™„ë£Œ
âœ“ í• ì¼ ì™„ë£Œ: ì¹´ë“œë¹„ ê³„ì‚°
  +20 XP

ğŸ’¬ > ì˜¤ëŠ˜ ìš”ì•½
ğŸ“Š 2025-10-05 ìš”ì•½

ğŸ’¤ ìˆ˜ë©´: 5.0ì‹œê°„
ğŸ’ª ìš´ë™: 30ë¶„
ğŸ— ë‹¨ë°±ì§ˆ: ê¸°ë¡ ì—†ìŒ
ğŸ“ í• ì¼: ì™„ë£Œ 1/1

ğŸ’¬ > ì§„í–‰ë„
ğŸ“Š Level 1 (30/100 XP) | ğŸ† ì—…ì  0/6
ì§„í–‰ë„: [======              ] 30.0%
```

#### ëª…ë ¹ì–´ ë²„ì „ (Phase 1)

```bash
python3 interfaces/main.py
# ë˜ëŠ”
./run.sh cli
```

**ì‚¬ìš© ì˜ˆì‹œ:**
```
ëª…ë ¹> add_sleep 7
âœ“ ìˆ˜ë©´ ê¸°ë¡ ì™„ë£Œ: 7.0ì‹œê°„
  +15 XP

ëª…ë ¹> add_workout 30
âœ“ ìš´ë™ ê¸°ë¡ ì™„ë£Œ: 30ë¶„
  +10 XP

ëª…ë ¹> summary
ğŸ“Š 2025-10-05 ìš”ì•½
...
```

## ì£¼ìš” ê¸°ëŠ¥

### ê±´ê°• ì§€í‘œ ì¶”ì 
- ìˆ˜ë©´ ì‹œê°„
- ìš´ë™ ì‹œê°„
- ë‹¨ë°±ì§ˆ ì„­ì·¨ëŸ‰
- ì²´ì¤‘
- ì»¤ìŠ¤í…€ ë©”íŠ¸ë¦­ (BMI, í˜ˆì•• ë“±)

### í• ì¼ ê´€ë¦¬
- í• ì¼ ì¶”ê°€/ì™„ë£Œ
- ìš°ì„ ìˆœìœ„ ì„¤ì •
- ë§ˆê°ì¼ ê´€ë¦¬

### ìŠµê´€ ì¶”ì 
- ìŠµê´€ ìƒì„±
- Streak ì¹´ìš´íŠ¸
- ì„±ê³µ/ì‹¤íŒ¨ ê¸°ë¡

### ë ˆë²¨ì—… ì‹œìŠ¤í…œ
- í–‰ë™ì— ë”°ë¥¸ ê²½í—˜ì¹˜ íšë“
  - í• ì¼ ì™„ë£Œ: +20 XP
  - ìˆ˜ë©´ ëª©í‘œ ë‹¬ì„±: +15 XP
  - ìš´ë™: +10 XP
  - ê³µë¶€/ì»¤ë¦¬ì–´: +30 XP
- ë ˆë²¨ì—… ì‹œìŠ¤í…œ (Level 1 â†’ 2: 100 XP)
- ì—…ì  ì‹œìŠ¤í…œ (6ê°œ ê¸°ë³¸ ì—…ì )

## ì•„í‚¤í…ì²˜

### ì—ì´ì „íŠ¸
1. **OrchestratorAgent** - ì¡°ìœ¨ì (Phase 2)
2. **ConversationAgent** - ìì—°ì–´ íŒŒì‹± (Phase 2)
3. **DataManagerAgent** - ë°ì´í„° ê´€ë¦¬ âœ…
4. **CoachingAgent** - ì•Œë¦¼ ë° ì¸ì‚¬ì´íŠ¸ (Phase 2)
5. **GamificationAgent** - ë ˆë²¨ì—… ì‹œìŠ¤í…œ âœ…

### ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
- `daily_health`: ì¼ì¼ ê±´ê°• ì§€í‘œ
- `custom_metrics`: ì»¤ìŠ¤í…€ ë©”íŠ¸ë¦­
- `habits` / `habit_logs`: ìŠµê´€ ì¶”ì 
- `tasks`: í• ì¼
- `user_progress`: ë ˆë²¨/ê²½í—˜ì¹˜
- `exp_logs`: ê²½í—˜ì¹˜ ë¡œê·¸
- `achievements` / `achievement_logs`: ì—…ì 

## ìŠ¤í¬ë¦°ìƒ·

ì›¹ ëŒ€ì‹œë³´ë“œì˜ ì£¼ìš” ê¸°ëŠ¥:
- ğŸ’¬ ì±„íŒ…: ìì—°ì–´ ì…ë ¥ ë° ì‹¤ì‹œê°„ ëŒ€í™”
- ğŸ“Š ëŒ€ì‹œë³´ë“œ: ê±´ê°• ë©”íŠ¸ë¦­ ì¹´ë“œ + ì£¼ê°„ íŠ¸ë Œë“œ ì°¨íŠ¸
- ğŸ“ˆ ë¶„ì„: ì£¼ê°„ í†µê³„ + ê²½í—˜ì¹˜ ë¶„ì„
- ğŸ† ì—…ì : ì—…ì  ê°¤ëŸ¬ë¦¬ + ë‹¬ì„±ë¥ 

ìì„¸í•œ ì‚¬ìš©ë²•ì€ [WEB_UI_GUIDE.md](WEB_UI_GUIDE.md) ì°¸ì¡°

### Phase 3: LLM í†µí•© & ê³ ê¸‰ ê¸°ëŠ¥ âœ…

- âœ… **LangChain + GPT í†µí•©**
  - `core/langchain_llm.py`: LangChain ê¸°ë°˜ GPT-4o-mini ì—°ë™
  - ë³µì¡í•œ í•œêµ­ì–´ ì…ë ¥ ì²˜ë¦¬ (ë³µí•© ëª…ë ¹ ì§€ì›)
  - ìì—°ìŠ¤ëŸ¬ìš´ ëŒ€í™”í˜• ì‘ë‹µ ìƒì„±
- âœ… **ì§€ëŠ¥í˜• íŒŒì‹±**
  - ì •ê·œì‹ ì‹¤íŒ¨ ì‹œ LLM ë°±ì—…
  - ë³µì¡í•œ ìˆ˜ë©´ íŒ¨í„´ ìë™ ê³„ì‚°
  - ì˜ë„ íŒŒì•… ì •í™•ë„ 95%+
- âœ… **ê³ ê¸‰ ì—…ì  ì‹œìŠ¤í…œ** (6ê°œ â†’ 20ê°œ í™•ì¥)
- âœ… **í™˜ê²½ ì„¤ì • ê´€ë¦¬**
  - python-dotenvë¡œ í™˜ê²½ë³€ìˆ˜ ê´€ë¦¬
  - config.yaml + .env í†µí•©

**LLM ì„¤ì •:**
```bash
# 1. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# OPENAI_API_KEY ì…ë ¥ (í•„ìˆ˜)

# 2. config.yaml í™•ì¸ (ê¸°ë³¸ê°’)
llm:
  provider: "langchain"  # LangChain + OpenAI
  enabled: true
```

## ê°œë°œ í™˜ê²½

**í•„ìˆ˜ ìš”êµ¬ì‚¬í•­:**
- Python 3.9+
- SQLite3

**ì£¼ìš” ì˜ì¡´ì„±:**
- **ì›¹ UI**: Streamlit, Plotly, Pandas
- **LLM**: LangChain, langchain-openai, OpenAI
- **ì„¤ì •**: PyYAML, python-dotenv
- **í…ŒìŠ¤íŠ¸**: pytest, pytest-cov

**ì„¤ì¹˜:**
```bash
# ëª¨ë“  ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt

# ë˜ëŠ” ê°œë³„ ì„¤ì¹˜
pip install streamlit plotly pandas
pip install langchain langchain-openai openai
pip install pyyaml python-dotenv
```

## ì£¼ìš” íŒŒì¼ êµ¬ì¡°

```
Horcrux/
â”œâ”€â”€ agents/              # ì—ì´ì „íŠ¸ (5ê°œ)
â”‚   â”œâ”€â”€ conversation.py  # ìì—°ì–´ íŒŒì‹± + LLM ë°±ì—…
â”‚   â”œâ”€â”€ coaching.py      # ì•Œë¦¼ + LLM ì¡°ì–¸
â”‚   â”œâ”€â”€ data_manager.py  # ë°ì´í„° CRUD
â”‚   â”œâ”€â”€ gamification.py  # XP/ë ˆë²¨/ì—…ì 
â”‚   â””â”€â”€ orchestrator.py  # ì¡°ìœ¨ì
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ database.py      # DB ìŠ¤í‚¤ë§ˆ (9 í…Œì´ë¸”)
â”‚   â”œâ”€â”€ llm_client.py    # LLM ì¶”ìƒí™”
â”‚   â”œâ”€â”€ langchain_llm.py # LangChain í†µí•©
â”‚   â””â”€â”€ config.py        # ì„¤ì • ê´€ë¦¬
â”œâ”€â”€ interfaces/          # UI ì¸í„°í˜ì´ìŠ¤
â”‚   â”œâ”€â”€ app.py          # ì›¹ ëŒ€ì‹œë³´ë“œ (Streamlit)
â”‚   â”œâ”€â”€ main_natural.py # ìì—°ì–´ CLI
â”‚   â””â”€â”€ main.py         # ëª…ë ¹ì–´ CLI
â”œâ”€â”€ parsers/            # í•œêµ­ì–´ íŒŒì„œ
â”‚   â”œâ”€â”€ korean_patterns.py
â”‚   â”œâ”€â”€ date_parser.py
â”‚   â””â”€â”€ number_parser.py
â”œâ”€â”€ tests/              # í…ŒìŠ¤íŠ¸ ì½”ë“œ
â”œâ”€â”€ scripts/            # ìœ í‹¸ë¦¬í‹° ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ docs/               # ë¬¸ì„œ
â”‚   â”œâ”€â”€ CLAUDE.md       # Claude Code ì§€ì¹¨
â”‚   â”œâ”€â”€ PROMPTS.md      # í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿
â”‚   â””â”€â”€ WEB_UI_GUIDE.md # ì›¹ UI ê°€ì´ë“œ
â”œâ”€â”€ horcrux.py          # ë©”ì¸ ì§„ì…ì 
â”œâ”€â”€ run.sh              # ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ config.yaml         # ì„¤ì •
â”œâ”€â”€ .env.example        # í™˜ê²½ë³€ìˆ˜ í…œí”Œë¦¿
â””â”€â”€ requirements.txt    # ì˜ì¡´ì„±
```

## ë¼ì´ì„ ìŠ¤

MIT
